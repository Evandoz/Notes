<% if (theme.gitment.enable) { %>
  <%- css('lib/gitment/style') %>
  <%- js('lib/gitment/gitment') %>
  <script>
    const myTheme = {
      render(state, instance) {
        const container = document.createElement('div')
        container.lang = "en-US"
        container.className = 'gitment-container gitment-root-container'
        container.appendChild(instance.renderHeader(state, instance))
        container.appendChild(instance.renderEditor(state, instance))
        container.appendChild(instance.renderComments(state, instance))
        container.appendChild(instance.renderFooter(state, instance))
        return container
      },
    }
    var gitment = new Gitment({
      id: '<%- url_for(page.path) %>',
      theme: myTheme,
      owner: '<%= theme.gitment.owner %>',
      repo: '<%= theme.gitment.repo %>',
      oauth: {
        client_id: '<%= theme.gitment.client_id %>',
        client_secret: '<%= theme.gitment.client_secret %>',
      },
    })
    <% if (theme.gitment.lazy) { %>
      function showGitment () {
        $('#load-comments').attr('style', 'display: none');
        $('#comment-container').attr('style', '');
        gitment.render('comment-container')
      }
    <% } else { %>
      gitment.render('comment-container')
    <% } %>
  </script>
<% } %>

<%- js('lib/html5shiv') %>
<%- js('lib/bootstrap.min') %>
<%- js('lib/main') %>

<%- css('lib/light/css/lightgallery.min') %>
<%- js('lib/light/js/lightgallery.min') %>
<%- js('lib/light/js/lg-thumbnail.min') %>
<%- js('lib/light/js/lg-pager.min') %>
<%- js('lib/light/js/lg-autoplay.min') %>
<%- js('lib/light/js/lg-fullscreen.min') %>
<%- js('lib/light/js/lg-zoom.min') %>
<%- js('lib/light/js/lg-hash.min') %>
<%- js('lib/light/js/lg-share.min') %>
<%- js('lib/light/js/lg-video.min') %>

<%- js('js/particle') %>
<%- js('js/wave') %>
<%- js('js/script') %>

<%- partial('_scripts/google-analytics') %>
<%- partial('_scripts/baidu-push') %>
