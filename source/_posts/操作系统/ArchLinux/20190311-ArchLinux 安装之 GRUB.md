---
title: ArchLinux 安装之 GRUB
keywords:
  - ArchLinux
  - GRUB
tags:
  - ArchLinux
  - GRUB
featured_image:
---

## 关于 GRUB 配置文件

GRUB 配置文件为 "/boot/grub/grub.cfg"，因此可以直接编辑该文件来达到我们想要的效果，但是该 grub.cfg 配置文件的起始位置就提示 **不要编辑该文件**。

因为它是通过 grub-mkconfig 自动生成的，不建议直接编辑，而应该去编辑 "/etc/grub.d" 和 "/etc/default/grub" ，因为 grub.cfg 文件是以前者为模板生成的。

其中 "/etc/grub.d" 是操作系统菜单目录，由系统生成，因此通常通过修改 "/etc/default/grub" 文件来实现目标。

```sh
$ sudo vim /etc/default/grub
```

## 修改默认启动项

设置默认启动项的条目为

```
GRUB_DEFAULT=0 # 参数为启动项索引，从 0 开始
```

GRUB启动项是按照启动菜单依次进行索引，起始为 **0** 。结合系统启动菜单，设置相应的索引序号即可设置默认启动项。

修改完成后，还需要重新生成 GRUB 配置文件，因为修改的只是模板文件。

```sh
$ sudo update-grub
```

或者

```sh
$ sudo grub-mkconfig -o /boot/grub/grub.cfg
```

## 修改默认主题

```
# DO NOT EDIT THIS FILE
#
# It is automatically generated by grub-mkconfig using templates
# from  /etc/grub.d and settings from /etc/default/grub
```
