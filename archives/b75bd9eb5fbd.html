<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>ArchLinux 安装之桌面环境 | EXP Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="author" content="Levan">
  
  
    <meta name="description" content="日常记录与分享">
  
  
    <meta name="keywords" content="ArchLinux,桌面环境,Xorg,KDE">
  
  
    <meta name="google-site-verification" content="W2AVg5n_ALo21rl9n3ZwS8AuEanZfJkirzrRGLLYvn4">
  
  
    <meta name="baidu-site-verification" content="BM2Q3xLpPJ">
  
  
    <meta name="360-site-verification" content="573211edf2de02c99d7b255b2c56513c">
  
  
    <link rel="short icon" type="image/x-icon" href="/Notes/css/images/favicon.ico">
  
  <link rel="canonical" href="https://evandoz.github.io/Notes/archives/b75bd9eb5fbd.html">
  
<link rel="stylesheet" href="/Notes/css/style.css">

<meta name="generator" content="Hexo 5.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="overflow" class="overflow">
    <div id="hiddenbar" class="hiddenbar">
      <div id="wrapper" class="wrapper">
        <header id="header" class="header is-post">
  <div class="outer">
    <div class="logo">
      <a class="title" href="/Notes/">EXP Notes</a>
    </div>
    <div class="nav">
      <ul id="nav-icon" class="nav-icon">
        <li></li><li></li><li></li>
      </ul>
      <ul class="nav-menu">
        
          <li class="nav-item">
            <a href="/Notes/archives">归档</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/categories">分类</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/tags">标签</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/about">关于</a>
          </li>
        
      </ul>
    </div>

  </div>
</header>

        <div id="content" class="content">
    <section class="article-header inner">
      <img src="/Notes/css/images/banner2.jpg" alt="banner">
      

      
  
  	<h1 class="post-title">ArchLinux 安装之桌面环境</h1>
  


      <div class="post-meta">
        <span class="post-date">
  <time datetime="2019-03-04T16:00:00.000Z">2019-03-05</time>
</span>

        
  <span class="post-category">
    <a class="category-link" href="/Notes/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a> · <a class="category-link" href="/Notes/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ArchLinux/">ArchLinux</a>
  </span>


      </div>
    </section>
    <section class="article-body inner">
      <div id="side" class="aside post left">

      </div>
      <div class="main">
        <article id="操作系统/ArchLinux/20190305-ArchLinux 安装之桌面环境" class="article">
          <div id="post-content" class="post-content">
            <h2 id="1-安装-Xorg"><a class="headerlink" href="#1-安装-Xorg"></a>1.安装 Xorg</h2>
<p>XOrg 项目提供了 X 窗口系统的开源实现，已经成为图形用户程序的必备条件，桌面环境（如KDE）在它基础上运行，因此要先安装Xorg。</p>
<p>Xorg 可以通过 xorg-server 包安装。此外，xorg-apps 组提供了一些程序以完成某些特定的配置工作。</p>
<p>也可以直接安装软件包组 xorg，它包含了 Xorg server 包，以及 xorg-apps 中的软件包和字体.</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># pacman -S xorg-server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>注意：安装完xorg后最好进行测试，如果xorg无法正常运行，之后安装的KDE是无法正常起作用的。</strong></p>
<p>这里曾经遇见的问题就是无法登录，原因在于没有session，这个在登陆界面左上角session中可以直观的看到。正常情况下，该session选项框显示的是<strong>Plasma（安装了KDE Plasma）</strong>，而由于xorg无法正常运行，session的值就为空，也就无法登录。</p>
<p>注意：实测时发现 root 用户无法通过桌面环境登录，必须创建普通用户，否则就会出现上述的无法登录，根本不显示登录框（KDE），或者一片空白（Deepin）</p>
<p>驱动安装</p>
<p>INTEL NVIDIA AMD</p>
<h2 id="2-运行"><a class="headerlink" href="#2-运行"></a>2.运行</h2>
<p>Xorg 通常不知直接运行，而是使用显示管理器（自动）或者 xinit （手动）来启动 X server，这样就不需要额外的安装和配置。</p>
<h2 id="3-配置"><a class="headerlink" href="#3-配置"></a>3.配置</h2>
<p>Arch 提供了位于 /usr/share/X11/xorg.conf.d 的默认配置文件。通常情况下，用户无需进行额外的配置与修改即可正常使用，Xorg 通过 xorg.conf 和 .conf文件初始化配置。</p>
<p>此外，显卡驱动可能提供了自动配置工具，例如 NVIDIA 提供了 nvidia-xconfig，ATI 提供了 aticonfig。</p>
<p>使用 xconfig 生成 .conf 文件</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># nvidia-xconfig<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="4-安装KDE-Plasma桌面及KDE应用"><a class="headerlink" href="#4-安装KDE-Plasma桌面及KDE应用"></a>4.安装KDE Plasma桌面及KDE应用</h2>
<p>在安装 Plasma 之前，请确保 Xorg 已经被安装到您的系统中并可以正常工作</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># pacman -S plasma kde-applications<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>plasma组用于安装桌面，kde-applications用于安装 KDE 的全套应用。</p>
<p>**注意：**kde-applications仅仅安装应用程序，并不会安装 Plasma 桌面。</p>
<h2 id="5-安装显示管理器SDDM"><a class="headerlink" href="#5-安装显示管理器SDDM"></a>5.安装显示管理器SDDM</h2>
<p>Simple Desktop Display Manager (SDDM) 是 KDE Plasma桌面环境首选的显示管理器。</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># pacman -S sddm sddm-kcm &#x2F;&#x2F; 安装
# systemctl enable sddm &#x2F;&#x2F; 自启动<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>SDDM的配置文件为 /etc/sddm.conf ，在使用了 systemd 的系统中, 由于 SDDM 默认使用 systemd-logind 管理会话，无需作额外的设置，因此安装SDDM时将不会产生配置文件。</p>
<p>如果需要修改配置文件，SDDM提供了一个命令用于产生一个包含了默认设置的配置文件样本:</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># sddm --example-config &gt; &#x2F;etc&#x2F;sddm.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="6-安装字体优化体验"><a class="headerlink" href="#6-安装字体优化体验"></a>6.安装字体优化体验</h2>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># pacman -S wqy-microhei wqy-microhei-lite adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="7-更换网络连接服务"><a class="headerlink" href="#7-更换网络连接服务"></a>7.更换网络连接服务</h2>
<p>之前使用的一直都是netctl这个自带的网络服务，而桌面环境使用的是 NetworkManager 这个网络服务（图形化管理），所以需要禁用 netctl 并启用 NetworkManager：</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">$ sudo systemctl disable netctl
$ sudo systemctl enable dhcpcd NetworkManager （注意大小写）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>可能需要安装</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S networkmanager<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果需要安装工具栏工具来显示网络设置图标（视情况而定，桌面环境可能已安装）：</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S network-manager-applet<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>之后就可以在图形界面下配置网络了。</p>

          </div>
          <div class="post-footer">
            <div class="post-copyright">&copy; 除特殊声明外，文章著作权归作者所有，转载请注明作者及出处</div>
          </div>
        </article>
        <!-- Pagination -->
        
          <div class="nagination card">
            
              <a href="/Notes/archives/e28553598739" class="nagination-link">上篇: ArchLinux 安装之 AUR</a>
            
            
              <a href="/Notes/archives/0c2943f0f86a" class="nagination-link">下篇: ArchLinux 安装之显卡驱动</a>
            
          </div>
        
        <!-- Comment -->
        <!-- 
          <div id="article-comment" class="article-comment card"></div>

         -->
      </div>
      <div id="toc" class="toc">
        
          <ol class="toc-content"><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#1-%E5%AE%89%E8%A3%85-Xorg"><span class="toc-content-text">1.安装 Xorg</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#2-%E8%BF%90%E8%A1%8C"><span class="toc-content-text">2.运行</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#3-%E9%85%8D%E7%BD%AE"><span class="toc-content-text">3.配置</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#4-%E5%AE%89%E8%A3%85KDE-Plasma%E6%A1%8C%E9%9D%A2%E5%8F%8AKDE%E5%BA%94%E7%94%A8"><span class="toc-content-text">4.安装KDE Plasma桌面及KDE应用</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#5-%E5%AE%89%E8%A3%85%E6%98%BE%E7%A4%BA%E7%AE%A1%E7%90%86%E5%99%A8SDDM"><span class="toc-content-text">5.安装显示管理器SDDM</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#6-%E5%AE%89%E8%A3%85%E5%AD%97%E4%BD%93%E4%BC%98%E5%8C%96%E4%BD%93%E9%AA%8C"><span class="toc-content-text">6.安装字体优化体验</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#7-%E6%9B%B4%E6%8D%A2%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1"><span class="toc-content-text">7.更换网络连接服务</span></a></li></ol>
        
      </div>
    </section>


</div>
        <footer id="footer" class="footer">
  <div class="outer">
    <div class="copyright">
      <p><span>EXP Notes</span> &copy; 2015 - 2022</p>
    </div>
    <div class="navigation">
      <a href="https://evandoz.github.io">Hexo · Levan</a>
    </div>
  </div>
</footer>

      </div>
    </div>
  </div>
  
  <div id="mobile-nav" class="mobile-nav">
  
    <a class="menu-item" href="/Notes/archives">归档</a>
  
    <a class="menu-item" href="/Notes/categories">分类</a>
  
    <a class="menu-item" href="/Notes/tags">标签</a>
  
    <a class="menu-item" href="/Notes/about">关于</a>
  
</div>

<div id="over-layer" class="over-layer"></div>

  
<script src="/Notes/js/jquery.js"></script>


<script src="/Notes/js/velocity.js"></script>


<script src="/Notes/js/plugins.js"></script>


<script src="/Notes/js/script.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




</body>
</html>
