<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Python2.7 解决 MySQL 连接问题 | EXP Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="author" content="Levan">
  
  
    <meta name="description" content="日常记录与分享">
  
  
    <meta name="keywords" content="Python,MySQL">
  
  
    <meta name="google-site-verification" content="W2AVg5n_ALo21rl9n3ZwS8AuEanZfJkirzrRGLLYvn4">
  
  
    <meta name="baidu-site-verification" content="BM2Q3xLpPJ">
  
  
    <meta name="360-site-verification" content="573211edf2de02c99d7b255b2c56513c">
  
  
    <link rel="short icon" type="image/x-icon" href="/Notes/css/images/favicon.ico">
  
  <link rel="canonical" href="https://evandoz.github.io/Notes/archives/aadd49651072.html">
  
<link rel="stylesheet" href="/Notes/css/style.css">

<meta name="generator" content="Hexo 5.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="overflow" class="overflow">
    <div id="hiddenbar" class="hiddenbar">
      <div id="wrapper" class="wrapper">
        <header id="header" class="header is-post">
  <div class="outer">
    <div class="logo">
      <a class="title" href="/Notes/">EXP Notes</a>
    </div>
    <div class="nav">
      <ul id="nav-icon" class="nav-icon">
        <li></li><li></li><li></li>
      </ul>
      <ul class="nav-menu">
        
          <li class="nav-item">
            <a href="/Notes/archives">归档</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/categories">分类</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/tags">标签</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/about">关于</a>
          </li>
        
      </ul>
    </div>

  </div>
</header>

        <div id="content" class="content">
    <section class="article-header inner">
      <img src="/Notes/css/images/banner2.jpg" alt="banner">
      

      
  
  	<h1 class="post-title">Python2.7 解决 MySQL 连接问题</h1>
  


      <div class="post-meta">
        <span class="post-date">
  <time datetime="2017-04-02T16:00:00.000Z">2017-04-03</time>
</span>

        
  <span class="post-category">
    <a class="category-link" href="/Notes/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/">编程开发</a> · <a class="category-link" href="/Notes/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/Python/">Python</a>
  </span>


      </div>
    </section>
    <section class="article-body inner">
      <div id="side" class="aside post left">

      </div>
      <div class="main">
        <article id="编程开发/Python/20170403-Python2.7 解决 MySQL 连接问题" class="article">
          <div id="post-content" class="post-content">
            <p>问题出现在使用Django(Python 2.7 64 Bit)构建Web应用的过程中，由于使用MySQL作为数据库，所以需要安装Python与MySQL连接的中间件MySQL-Python。</p>
<a id="more"></a>
<h2 id="缺少MySQLdb模块"><a class="headerlink" href="#缺少MySQLdb模块"></a>缺少MySQLdb模块</h2>
<p>没有安装该中间件会报错缺少MySQLdb的模块</p>
<pre class="line-numbers language-none"><code class="language-none">django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module: No module named MySQLdb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="命令行安装MySQL-Python"><a class="headerlink" href="#命令行安装MySQL-Python"></a>命令行安装MySQL-Python</h2>
<p>根据提示及网上建议，使用pip来安装该模块</p>
<pre class="line-numbers language-none"><code class="language-none">pip install MySQL-python<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然而问题再次出现，需要Microsoft Visual C++ 9.0</p>
<pre class="line-numbers language-none"><code class="language-none">error: Microsoft Visual C++ 9.0 is required. Get it from http:&#x2F;&#x2F;aka.ms&#x2F;vcpython27<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>根据提示安装VC++ 9.0后，再次尝试，依然失败。</p>
<pre class="line-numbers language-none"><code class="language-none">error: command &#39;C:\\Users\\RAY\\AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0\\VC\\Bin\\amd64\\cl.exe&#39; failed with exit status 2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="EXE方式安装MySQL-python"><a class="headerlink" href="#EXE方式安装MySQL-python"></a>EXE方式安装MySQL-python</h2>
<p>问题多多，放弃该方法，按网上所说直接下载已经编译好的exe包。访问<a target="_blank" rel="external nofollow noopener noreferrer" href="https://pypi.python.org/pypi/MySQL-python/1.2.5">Python Package</a>，下载了MySQL-python-1.2.5.win32-py2.7.exe，安装完成后，不在报错缺失模块，但出现了utf-8字符编码的问题</p>
<pre class="line-numbers language-none"><code class="language-none">&#39;utf8&#39; codec can&#39;t decode byte 0xb2 in position 20: invalid start byte<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>经过一番探究，发现可能是因为我使用的是Python 2.7，而MySQL-python是32位的，版本不匹配，然而Python Package网站上只有32位的安装包。</p>
<p>上网搜索64位安装包，终于发现了一个新网站：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#mysql-python">Unofficial Windows Binaries for Python Extension Packages</a>，下载<strong>MySQL_python-1.2.5-cp27-none-win_amd64.whl</strong>到本地，然后使用pip安装</p>
<pre class="line-numbers language-none"><code class="language-none">pip install MySQL_python-1.2.5-cp27-none-win_amd64.whl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>安装完成后，尝试运行Django，不在报错完美运行</p>
<h2 id="最后"><a class="headerlink" href="#最后"></a>最后</h2>
<p>最后说明一下，MySQL-python支持Python 2，如果使用Python 3，需要使用pymysql作为连接中间件，其安装方法简单，不会由上述一系列问题，具体步骤可上网搜索，此处不再赘述。</p>
<p>吐槽一下，Python 2对中文太不友好了，大家还是迁移到Python 3吧，Python官方已将于2020年停止维护Pyhton 2系列版本，著名科学计算包NumPy也不再维护Python 2版本，经典Web框架Django 2系列版本也不再支持Python2，这些都说明Python 3正在发展壮大，所以还是快快使用潮流吧！！！</p>

          </div>
          <div class="post-footer">
            <div class="post-copyright">&copy; 除特殊声明外，文章著作权归作者所有，转载请注明作者及出处</div>
          </div>
        </article>
        <!-- Pagination -->
        
          <div class="nagination card">
            
              <a href="/Notes/archives/7adfcbc28cd5" class="nagination-link">上篇: 在前端开发中使用谷歌字体</a>
            
            
              <a href="/Notes/archives/dd8807d42230" class="nagination-link">下篇: 贝塞尔曲线原理</a>
            
          </div>
        
        <!-- Comment -->
        <!-- 
          <div id="article-comment" class="article-comment card"></div>

         -->
      </div>
      <div id="toc" class="toc">
        
          <ol class="toc-content"><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#%E7%BC%BA%E5%B0%91MySQLdb%E6%A8%A1%E5%9D%97"><span class="toc-content-text">缺少MySQLdb模块</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%89%E8%A3%85MySQL-Python"><span class="toc-content-text">命令行安装MySQL-Python</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#EXE%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85MySQL-python"><span class="toc-content-text">EXE方式安装MySQL-python</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-content-text">最后</span></a></li></ol>
        
      </div>
    </section>


</div>
        <footer id="footer" class="footer">
  <div class="outer">
    <div class="copyright">
      <p><span>EXP Notes</span> &copy; 2015 - 2022</p>
    </div>
    <div class="navigation">
      <a href="https://evandoz.github.io">Hexo · Levan</a>
    </div>
  </div>
</footer>

      </div>
    </div>
  </div>
  
  <div id="mobile-nav" class="mobile-nav">
  
    <a class="menu-item" href="/Notes/archives">归档</a>
  
    <a class="menu-item" href="/Notes/categories">分类</a>
  
    <a class="menu-item" href="/Notes/tags">标签</a>
  
    <a class="menu-item" href="/Notes/about">关于</a>
  
</div>

<div id="over-layer" class="over-layer"></div>

  
<script src="/Notes/js/jquery.js"></script>


<script src="/Notes/js/velocity.js"></script>


<script src="/Notes/js/plugins.js"></script>


<script src="/Notes/js/script.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




</body>
</html>
