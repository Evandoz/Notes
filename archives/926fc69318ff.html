<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>汇编语言实现进制转换 | EXP Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="author" content="Levan">
  
  
    <meta name="description" content="日常记录与分享">
  
  
    <meta name="keywords" content="十到十六的进制转换,汇编编程">
  
  
    <meta name="google-site-verification" content="W2AVg5n_ALo21rl9n3ZwS8AuEanZfJkirzrRGLLYvn4">
  
  
    <meta name="baidu-site-verification" content="BM2Q3xLpPJ">
  
  
    <meta name="360-site-verification" content="573211edf2de02c99d7b255b2c56513c">
  
  
    <link rel="short icon" type="image/x-icon" href="/Notes/css/images/favicon.ico">
  
  <link rel="canonical" href="https://evandoz.github.io/Notes/archives/926fc69318ff.html">
  
<link rel="stylesheet" href="/Notes/css/style.css">

<meta name="generator" content="Hexo 5.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="overflow" class="overflow">
    <div id="hiddenbar" class="hiddenbar">
      <div id="wrapper" class="wrapper">
        <header id="header" class="header is-post">
  <div class="outer">
    <div class="logo">
      <a class="title" href="/Notes/">EXP Notes</a>
    </div>
    <div class="nav">
      <ul id="nav-icon" class="nav-icon">
        <li></li><li></li><li></li>
      </ul>
      <ul class="nav-menu">
        
          <li class="nav-item">
            <a href="/Notes/archives">归档</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/categories">分类</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/tags">标签</a>
          </li>
        
          <li class="nav-item">
            <a href="/Notes/about">关于</a>
          </li>
        
      </ul>
    </div>

  </div>
</header>

        <div id="content" class="content">
    <section class="article-header inner">
      <img src="/Notes/css/images/banner2.jpg" alt="banner">
      

      
  
  	<h1 class="post-title">汇编语言实现进制转换</h1>
  


      <div class="post-meta">
        <span class="post-date">
  <time datetime="2016-11-04T16:00:00.000Z">2016-11-05</time>
</span>

        
  <span class="post-category">
    <a class="category-link" href="/Notes/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/">编程开发</a> · <a class="category-link" href="/Notes/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/ASM/">ASM</a>
  </span>


      </div>
    </section>
    <section class="article-body inner">
      <div id="side" class="aside post left">

      </div>
      <div class="main">
        <article id="编程开发/ASM/20161105-汇编语言实现进制转换" class="article">
          <div id="post-content" class="post-content">
            <p>8086 汇编是一种经典的底层语言，本文将结合代码简单介绍使用汇编语言来实现子程序的设计，以十六进制显示输出寄存器中二进制内容。</p>
<a id="more"></a>
<h2 id="题目要求"><a class="headerlink" href="#题目要求"></a>题目要求</h2>
<p>编制一个过程把AL寄存器内的二进制数用十六进制的形式在屏幕上显示出来。</p>
<h2 id="设计思路"><a class="headerlink" href="#设计思路"></a>设计思路</h2>
<p>我们知道计算机里存储的是二进制，但显示的时候是通过转换成ASCII码显示出来的，所以我们要做的就是把这些二进制数每四位一组转换成对应数字的ASCII码值并将其赋值给DL，调用21H中断将其显示输出即可。具体的转换过程可以参考代码注释部分。</p>
<h2 id="参考代码"><a class="headerlink" href="#参考代码"></a>参考代码</h2>
<pre class="line-numbers language-none"><code class="language-none">DATA	SEGMENT
    COUNT  EQU  5
    ARRAY  DB  12H, 34H, 24H, 86H, 47H
DATA	ENDS
CODE	SEGMENT
    ASSUME CS:CODE
START:
    MOV  AX, DATA
    MOV  DS, AX
    MOV  BX, OFFSET ARRAY
    MOV  CX, COUNT
DISPLP:
    MOV  AL, [BX]
    CALL ALDISP
    MOV  AL, &#39;,&#39;;逗号分隔，不过输出结果很让人意外
    MOV  AH, 02H
    INT  21H
    INC  BX
    LOOP DISPLP
EXIT:
    MOV  AH, 4CH
    INT  21H

ALDISP	PROC		;实现AL内容的显示
    PUSH AX
    PUSH CX
    PUSH DX		;子程序使用到的寄存器压栈以保护
    PUSH AX		;暂存AX，稍后转换低四位

    MOV  DL, AL ;转换AL高四位
    MOV  CL, 4	;(CL)&#x3D;4(0000HHHH)
    SHR  DL, CL	;(0-9)(30H-39H)(A-F)(41H-46H)
    OR   DL, 30H;(0000HHHH)(00110000)高四位变成3
    CMP  DL, 39H
    JBE  ALDISP1;显示数字(0-9)
    ADD  DL, 7	;显示数字(A-F)
ALDISP1:
    MOV  AH, 02H
    INT  21H
    POP  DX		;恢复AX保存到DX

    AND  DL, 0FH;转换AL低四位(HHHHLLLL)(00001111)
    OR   DL, 30H;(0000LLLL)(00110000)高四位变成3
    CMP  DL, 39H
    JBE  ALDISP2
    ADD  DL, 7
ALDISP2:
    MOV  AH, 02H
    INT  21H
    POP  DX
    POP  CX
    POP  AX
    RET
ALDISP	ENDP

CODE	ENDS
    END 	START<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="运行结果"><a class="headerlink" href="#运行结果"></a>运行结果</h2>
<p><img src="https://raw.githubusercontent.com/Evandoz/blob/master/Assembly/exchange.png" alt="result"><span class="caption">result</span></p>
<p><strong>说明</strong>：代码中本来想用逗号分割的，结果输出的不知道是什么鬼，不过不影响功能的实现。</p>

          </div>
          <div class="post-footer">
            <div class="post-copyright">&copy; 除特殊声明外，文章著作权归作者所有，转载请注明作者及出处</div>
          </div>
        </article>
        <!-- Pagination -->
        
          <div class="nagination card">
            
              <a href="/Notes/archives/1134d5689b8f" class="nagination-link">上篇: 8086 通用寄存器的专用功能</a>
            
            
              <a href="/Notes/archives/59f09690b671" class="nagination-link">下篇: 汇编语言实现冒泡排序</a>
            
          </div>
        
        <!-- Comment -->
        <!-- 
          <div id="article-comment" class="article-comment card"></div>

         -->
      </div>
      <div id="toc" class="toc">
        
          <ol class="toc-content"><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#%E9%A2%98%E7%9B%AE%E8%A6%81%E6%B1%82"><span class="toc-content-text">题目要求</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF"><span class="toc-content-text">设计思路</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81"><span class="toc-content-text">参考代码</span></a></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-content-text">运行结果</span></a></li></ol>
        
      </div>
    </section>


</div>
        <footer id="footer" class="footer">
  <div class="outer">
    <div class="copyright">
      <p><span>EXP Notes</span> &copy; 2015 - 2022</p>
    </div>
    <div class="navigation">
      <a href="https://evandoz.github.io">Hexo · Levan</a>
    </div>
  </div>
</footer>

      </div>
    </div>
  </div>
  
  <div id="mobile-nav" class="mobile-nav">
  
    <a class="menu-item" href="/Notes/archives">归档</a>
  
    <a class="menu-item" href="/Notes/categories">分类</a>
  
    <a class="menu-item" href="/Notes/tags">标签</a>
  
    <a class="menu-item" href="/Notes/about">关于</a>
  
</div>

<div id="over-layer" class="over-layer"></div>

  
<script src="/Notes/js/jquery.js"></script>


<script src="/Notes/js/velocity.js"></script>


<script src="/Notes/js/plugins.js"></script>


<script src="/Notes/js/script.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




</body>
</html>
